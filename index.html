<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Instagram Giveaway 🥳</title>
    <link rel="shortcut icon" href="./logo.png" type="image/x-icon" />
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/atom-one-dark.min.css"
    />
    <script
      src="https://kit.fontawesome.com/1cf483120b.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.0/dist/confetti.browser.min.js"></script>
    <script
      defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAi0RCj8aLdKFX-cvYkW6kDveuaUlMnpes&libraries=places&callback=initMap"
    ></script>
    <script src="./index.js" defer></script>
  </head>
  <body>
    <header><h1>🎉 Instagram Giveaway 🎉</h1></header>
    <!-- /*---------------------------------UPLOAD LOG---------------------------------*/ -->
    <main>
      <section class="container container__file dropzone">
        <h3>Upload your File :</h3>
        <div class="drag-area">
          <div class="icon">
            <i class="fa-solid fa-file"></i>
          </div>
        </div>
        <input type="file" onchange="previewFile()" width="1" />
        <section id="preview" class="content"></section>
        <button type="button" class="btn" onclick="window.location.reload()">
          Click for another winner
        </button>
      </section>
    </main>

    <!-- /*---------------------------------CODE SECTION---------------------------------*/ -->
    <section class="container__code">
      <h2>Copy this code and insert it on the console</h2>
      <textarea id="text" name="" id="" cols="30" rows="10">
        //!IMPORTANTE: TIENES QUE INICIAR SESIÓN EN INSTAGRAM
          let commentsPanel = document.querySelector('main >div>div>div').children[1];
          let commentsContainer = commentsPanel.querySelector('div').children[2];
          let loadingSvg = document.querySelector('svg[aria-label="Cargando..."]');
          clear();
          const isSvgLoading = setInterval(() => {
            let loadingSvgTop = loadingSvg.getBoundingClientRect().top;
            if (loadingSvgTop != 0) {
              commentsContainer.scrollTo({
                top: commentsContainer.scrollHeight,
                behavior: 'smooth',
              });
              console.log('%c⏳Cargando comentarios...⏳', 'color:yellow');
            } else {
              console.clear();
              let anchors = commentsContainer.querySelectorAll('div > a');
              anchors.forEach(function (anchor) {
                console.log(anchor.textContent);
                return anchor;
              });
              clearInterval(isSvgLoading);
            }
          }, 1000);
      </textarea>

      <pre>
        <code >
          //!IMPORTANTE: TIENES QUE INICIAR SESIÓN EN INSTAGRAM
          let commentsPanel = document.querySelector('main >div>div>div').children[1];
          let commentsContainer = commentsPanel.querySelector('div').children[2];
          let loadingSvg = document.querySelector('svg[aria-label="Cargando..."]');
          clear();
          const isSvgLoading = setInterval(() => {
            let loadingSvgTop = loadingSvg.getBoundingClientRect().top;
            if (loadingSvgTop != 0) {
              commentsContainer.scrollTo({
                top: commentsContainer.scrollHeight,
                behavior: 'smooth',
              });
              console.log('%c⏳Cargando comentarios...⏳', 'color:yellow');
            } else {
              console.clear();
              let anchors = commentsContainer.querySelectorAll('div > a');
              anchors.forEach(function (anchor) {
                console.log(anchor.textContent);
                return anchor;
              });
              clearInterval(isSvgLoading);
            }
          }, 1000);
        </code>
      </pre>
      <button class="btn btn__clipboard" onclick="copyToClipboard()">
        Copy to Clipboard!
      </button>
    </section>

    <section class="container__code">
      <iframe
        width="560"
        height="315"
        src="https://www.youtube.com/embed/v6_hsWW-_Qc?si=tNT8PgwgC0qiXbIY"
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen
      ></iframe>
    </section>
    <footer class="footer">Made with 💪 by Alan Garcia 🚀</footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
  </body>
</html>
